@inherits LayoutComponentBase
@using DiscordApi.Services
@implements IDisposable

@inject UserStateService _state

@code {
    protected UserStateService State => _state;

    protected override void OnInitialized()
    {
        State.OnChange += OnChangedHandler;
    }

    public void Dispose()
    {
        State.OnChange -= OnChangedHandler;
    }

    private async void OnChangedHandler()
    {
        await InvokeAsync(StateHasChanged);
    }

}